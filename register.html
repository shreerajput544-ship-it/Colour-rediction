<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Win More - Register</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .login-container {
      position: relative;
      margin-top: 30px;
    }
    .close-btn {
      position: absolute;
      top: -45px;
      right: 0;
      background: none;
      border: none;
      font-size: 32px;
      color: #555;
      cursor: pointer;
      z-index: 10;
      line-height: 1;
    }
  </style>
</head>
<body>

<div class="login-container" role="main">
  <button class="close-btn" onclick="window.location.href='index.html'" aria-label="Close">&times;</button>
  <div class="header">
    <div class="logo" aria-hidden="true">WM</div>
    <h1>WIN MORE</h1>
    <p>Create your account</p>
  </div>

  <!-- Step 1: Phone & Password -->
  <form id="register-form" novalidate>
    <div id="step-1" class="register-step">
      <h2>Step 1: Enter Details</h2>

      <div class="input-group">
        <label for="reg-phone">Phone Number</label>
        <div class="phone-box">
          <span>+91</span>
          <input id="reg-phone" name="phone" type="tel" inputmode="numeric" placeholder="Enter phone number" aria-describedby="reg-phone-error">
        </div>
        <div id="reg-phone-error" class="error" aria-live="polite"></div>
      </div>

      <div class="input-group">
        <label for="reg-password">Password</label>
        <input id="reg-password" name="password" type="password" placeholder="Min 8 chars (letters, numbers, symbols)" aria-describedby="reg-password-error">
        <div id="reg-password-error" class="error" aria-live="polite"></div>
        <div class="password-rules">
          <p>Password must contain:</p>
          <ul>
            <li id="rule-length">✗ At least 8 characters</li>
            <li id="rule-uppercase">✗ At least 1 uppercase letter (A-Z)</li>
            <li id="rule-lowercase">✗ At least 1 lowercase letter (a-z)</li>
            <li id="rule-number">✗ At least 1 number (0-9)</li>
            <li id="rule-special">✗ At least 1 special character (!@#$%^&*)</li>
          </ul>
        </div>
      </div>

      <div class="input-group">
        <label for="reg-confirm-password">Confirm Password</label>
        <input id="reg-confirm-password" name="confirm" type="password" placeholder="Re-enter password" aria-describedby="reg-confirm-error">
        <div id="reg-confirm-error" class="error" aria-live="polite"></div>
      </div>

      <div class="input-group">
        <label for="reg-invite">Invite Code (Optional)</label>
        <input id="reg-invite" name="invite" type="text" placeholder="Enter invite code">
      </div>

      <button id="send-otp-btn" class="login-btn" type="button">Send OTP</button>
    </div>

    <!-- Step 2: OTP Verification -->
    <div id="step-2" class="register-step hidden">
      <h2>Step 2: Verify OTP</h2>
      <p class="otp-info">An OTP has been sent to <strong id="otp-phone-display"></strong></p>

      <div class="input-group">
        <label for="reg-otp">Enter OTP</label>
        <input id="reg-otp" name="otp" type="text" inputmode="numeric" placeholder="Enter 6-digit OTP" maxlength="6" aria-describedby="reg-otp-error">
        <div id="reg-otp-error" class="error" aria-live="polite"></div>
      </div>

      <p class="otp-timer">OTP expires in <span id="timer">20</span> seconds</p>

      <button id="verify-otp-btn" class="login-btn" type="button">Verify OTP & Register</button>
      <button id="back-btn" class="register-btn" type="button">Back</button>
    </div>

    <!-- Success Message -->
    <div id="step-3" class="register-step hidden">
      <h2>✅ Registration Successful!</h2>
      <p>Your account has been created.</p>
      <a href="index.html" class="login-btn" style="display: block; text-align: center; text-decoration: none; color: inherit;">Go to Login</a>
    </div>
  </form>
</div>

<script src="register.js"></script>
</body>
</html>
